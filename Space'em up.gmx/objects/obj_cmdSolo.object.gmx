<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprt_cmd</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Création du background
var nbStars = random_range(nbEtoile[0],nbEtoile[1]);
for(var i=0;i&lt;nbStars;i++){
    var posX = random_range(0,tailleX);
    var posY = random_range(0,tailleY);
    var typeStar = random_range(1,ratioEtoile[0]);
    if(typeStar &lt; ratioEtoile[1]){
        instance_create(posX, posY, obj_bigStar);
    }
    else{
        instance_create(posX, posY, obj_smallStar);
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>612</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>-1</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_if_variable</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>0</kind>
            <string>first</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>422</id>
        <kind>1</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>211</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sound</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>6</kind>
            <sound>sd_A40_ZeroCall</sound>
          </argument>
          <argument>
            <kind>3</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>first</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>424</id>
        <kind>2</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>801</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_set_cursor</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>-1</sprite>
          </argument>
          <argument>
            <kind>4</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>611</id>
        <kind>6</kind>
        <userelative>-1</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>endGame</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>0</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///+1 vie tout les vieBonus*100 de score

var indicScore = floor(scorePlayer/100);

if(indicScore == vieBonus){
    gain_vie(1);
    vieBonus++;
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Gestions des evenements

//Affichage game over
if(vie &lt;= 0 &amp;&amp; endGame == 0 ){
    instance_create(100, 100, obj_drawGameOver);
    end_game_solo();
    endGame = 1;
}

//Affichage du score
scorePlayer = scoreP1 + scoreP2;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Création des nouveaux vaisseaux IA

//Initialisation des variables
var firstSpawnIa2;
var firstSpawnIa3;
firstSpawnIa2 = 3;
firstSpawnIa3 = 3;

//Variable pour compter le nombre de vaisseaux de chaque type
var nbIa1;
var nbIa2;
var nbIa3;
nbIa1 = instance_number(obj_ia1);
nbIa2 = instance_number(obj_ia2);
nbIa3 = instance_number(obj_ia3);

//Ajout d'un vaisseau non existant

if(nbIa2 == 0 &amp;&amp; nbIa1 == firstSpawnIa2 &amp;&amp; ia[1] == spawnIa1 &amp;&amp; lockSpawn == 0){
    //Verrouillage
    lockSpawn = 1;
    //Indication du type d'ia à faire spawn
    typeIA = 2;
    //Création de l'objet qui vas instancier l'ia
    instance_create(0,0,obj_spawnSolo);
    typeIA = 0;
    //Remplace le spawn d'un vaisseau type 1
    ia[1] = 0;
} 
if(nbIa3 == 0 &amp;&amp; nbIa2 == firstSpawnIa3 &amp;&amp; ia[2] == spawnIa2 &amp;&amp; lockSpawn == 0){
    //Verrouillage
    lockSpawn = 1;
    //Indication du type d'ia à faire spawn
    typeIA = 3;
    //Création de l'objet qui vas instancier l'ia
    instance_create(0,0,obj_spawnSolo);
    typeIA = 0;
    //Remplace le spawn d'un vaisseau type 2
    ia[2] = 0;
} 

//Ajout d'un vaisseau existant
if(ia[1] == spawnIa1){
    typeIA = 1;
    instance_create(0, 0, obj_spawnSolo);
    typeIA = 0;
    ia[1] = 0;
}
if(ia[2] == spawnIa2){
    typeIA = 2;
    instance_create(0, 0, obj_spawnSolo);
    typeIA = 0;
    ia[2] = 0;
}
if(ia[3] == spawnIa3){
    typeIA = 3;
    instance_create(0, 0, obj_spawnSolo);
    typeIA = 0;
    ia[3] = 0;
    //Augmente la vitesse de toutes les types d'ia
    if (vitIA[1] &lt; 14) {
        vitIA[1]--;
        vitIA[2]--;
        vitIA[3]--;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Gestion des touches

//Fin du jeu : echap
if(keyboard_check_pressed(vk_escape)){
    first = 1;
    scoreP1 = 0;
    scoreP2 = 0;
    vie = 1;
    cdP1 = 0;
    cdP2 = 0;
    vitP1 = 11;
    vitP2 = 11;
    fireP1 = 0;
    fireP2 = 0;
    tirDiagP1 = 0;
    tirDiagP2 = 0;
    ia[1] = 0;
    ia[2] = 0;
    ia[3] = 0;
    vitIA[1] = -5;
    vitIA[2] = -4;
    vitIA[3] = -3;
    if(endGame == 0){end_game_solo();}
    room_goto(r2_menu);
}

//Restart : R
if(keyboard_check_pressed(ord('R')) &amp;&amp; !pause){
    scoreP1 = 0;
    scoreP2 = 0;
    vie = 3;
    cdP1 = 0;
    cdP2 = 0;
    vitP1 = 11;
    vitP2 = 11;
    fireP1 = 0;
    fireP2 = 0;
    tirDiagP1 = 0;
    tirDiagP2 = 0;
    gameTime = current_time;
    ia[1] = 0;
    ia[2] = 0;
    ia[3] = 0;
    vitIA[1] = -5;
    vitIA[2] = -4;
    vitIA[3] = -3;
    room_goto(room);
}

//Spawn J2
if(keyboard_check_pressed(vk_numpad0) &amp;&amp; instance_number(obj_player2) == 0 &amp;&amp; !tactile &amp;&amp; !pause){
    with(obj_player1){
        instance_create(x-96, y, obj_player2);
        gain_vie(1);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
